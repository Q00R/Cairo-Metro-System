<!DOCTYPE html>
<html>

<head>
    <title>Routes</title>
    <link rel='stylesheet' href='/styles/bootstrap.min.css' />
    <link rel='stylesheet' href='/styles/style.css' />
    <script src="/js/jquery-2.2.0.min.js" type="text/javascript"></script>
    <script src="/js/bootstrap.min.js" type="text/javascript"></script>
    <script>
        $(document).ready(function () {
            $("#routesTable").on("click", ".update-button", function () {
                var id = $(this).data("id");
                var routeName = $("#field" + id).val();
                data = { routeName };
                $.ajax({
                    type: "PUT",
                    url: "/api/v1/route/" + id,
                    data,
                    success: function (serverResponse) {
                        location.reload();
                        alert("Name changed successfully!\n" + JSON.stringify(serverResponse));
                    }
                });
            });
        });
    </script>
</head>

<body>
    <div>
        <div>
            <nav class="navbar navbar-inverse" style="padding-left:1%;">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="/dashboard">Home</a></li>
                    <li><a href="/stations">Station</a></li>
                    <li><a href="/users">Users</a></li>
                    <li><a href="/subscriptions">Subscriptions</a></li>
                    {{#isNormal}}
                    <li><a href="/requests/refund">Refund Ticket</a></li>
                    <li><a href="/requests/senior">Senior Citizens</a></li>
                    {{/isNormal}}
                </ul>
                <ul class="nav navbar-nav navbar-right" style="padding-right:2%">
                    <li><a style="color:goldenrod" href="/resetPassword">Reset Password</a></li>
                    <li><a style="color:crimson" href="/">Logout</a></li>
                </ul>

            </nav>
        </div>
        <br />

        <div style="padding-left: 5%; font-size: 20px;">
            <a href="/manage/routes">&lt;&lt;Back</a><br>
        </div>
        <div>
            <h1 style="text-align: center;">Update a route's name</h1><br><br>
        </div>

        <table id="routesTable" class="table" style="max-width: 75%; margin-left: auto; margin-right: auto;">
            <thead>
                <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Name</th>
                    <th scope="col">From Station Id</th>
                    <th scope="col">To Station Id</th>
                    <th scope="col">Update</th>

                </tr>
                {{#routes}}
                <tr>
                    <td>{{id}}</td>
                    <td>{{routeName}}</td>
                    <td>{{fromStationId}}</td>
                    <td>{{toStationId}}</td>
                    <td>
                        <input data-id={{id}} type="button" class="update-button btn btn-success" value="Update">
                        <input id=field{{id}} type="text" class="form-control" name="routeName"
                            placeholder="Hello There station" value="">
                    </td>
                </tr>
                {{/routes}}
            </thead>
        </table>
</body>

</html>