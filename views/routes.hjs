<!DOCTYPE html>
<html>

<head>
  <title>Routes</title>
  <link rel='stylesheet' href='/styles/bootstrap.min.css' />
  <link rel='stylesheet' href='/styles/style.css' />
  <script src="/js/jquery-2.2.0.min.js" type="text/javascript"></script>
  <script src="/js/bootstrap.min.js" type="text/javascript"></script>
  <script>
    $(document).ready(function () {
      $("#del" + {{ id }}).click(function () {
        $(this).parent().parent().remove();

        $.ajax({
          type: "DELETE",
          url: "/api/v1/route/" + {{ id }},
        success: function (serverResponse) {
          alert("Deleted station\n" + JSON.stringify(serverResponse));
        }
        });
      });
    });
  </script>
</head>

<body>
  <div>
    <div>
        <nav class="navbar navbar-inverse" style="padding-left:1%;">
          <ul class="nav navbar-nav">
            <li class="active"><a href="/dashboard">Home</a></li>
            <li><a href="/stations">Stations</a></li>
            <li><a href="/users">Users</a></li>
            {{#isNormal}}
              <li><a href="/subscriptions">Subscriptions</a></li>
              <li><a href="/requests/refund">Refund Ticket</a></li>
              <li><a href="/requests/senior">Senior Citizens</a></li>
              <li><a href="/price">Ticket Price</a></li>
              <li><a href="/tickets">Book a ticket</a></li>
            {{/isNormal}}
            {{#isAdmin}}
              <li><a href="/manage/routes">Routes</a></li>
            {{/isAdmin}}
          </ul>
          <ul class="nav navbar-nav navbar-right" style="padding-right:2%">
            <li><a style="color:goldenrod" href="/resetPassword">Reset Password</a></li>
            <li><a  style="color:crimson" href="/">Logout</a></li>
          </ul>

       </nav>
      </div>
    <br />

    <div>
      <h1 style="text-align: center;">All Routes</h1><br><br>
    </div>

    {{#isAdmin}}
    <div style="position:absolute; right:0;">
      <a href="/manage/routes/create"><input id="btnAddRoute" type="button" value="Create a route" class="btn btn-primary"></a>
      <br />
    </div>
    {{/isAdmin}}
    <table id="routesTable" class="table" style="max-width: 75%; margin-left: auto; margin-right: auto;">
      <thead>
        <tr>
          <th scope="col">id</th>
          <th scope="col">Name</th>
          <th scope="col">fromStationId</th>
          <th scope="col">toStationId</th>
          <th scope="col"></th>

        </tr>
        {{#routes}}
        <tr>
          <td>{{id}}</td>
          <td>{{routeName}}</td>
          <td>{{fromStationId}}</td>
          <td>{{toStationId}}</td>
          <td>
            <input id=del{{id}} type="button" value="Remove" class="btn btn-danger">
          </td>
        </tr>
        {{/routes}}
      </thead>
    </table>
  </div>
</body>

</html>